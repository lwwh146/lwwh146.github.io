import{_ as h,o as y,c as g,a as s,F,r as D,n as w,d as $,b as u,e as k,p as P,t as _,f as A,g as C,u as B,h as b,i as f,j as E}from"./main-2e0aef07.js";import{S as M}from"./Sakura-315ed5c5.js";const L={},T={class:"decorative-background"},j={class:"floating-circles"};function H(a,e){return y(),g("div",T,[s("div",j,[(y(),g(F,null,D(5,o=>s("div",{key:o,class:w(["circle",`circle-${o}`])},null,2)),64))]),e[0]||(e[0]=s("div",{class:"gradient-overlay"},null,-1))])}const I=h(L,[["render",H],["__scopeId","data-v-a8d864f6"]]),N=$({name:"MusicPlayer",setup(){const a=u(null),e=u(!1),o=u(0),d=u(!1),v=u([{title:"for ya",artist:"蒋小呢",url:"/music/for_ya.mp3"}][0]),t=()=>{console.log("Audio can play now"),d.value=!0},n=l=>{console.error("Audio error:",l);const m=l.target;console.error("Error details:",m.error)},i=async()=>{if(console.log("Toggle music called",a.value),!a.value){console.error("No audio player found");return}try{if(e.value)await a.value.pause(),e.value=!1;else{const l=a.value.play();if(l!==void 0)try{await l,e.value=!0}catch(m){console.error("播放失败:",m)}}}catch(l){console.error("音乐播放出错:",l)}};P("toggleMusic",i);const p=()=>{e.value=!1,o.value=0},r=()=>{if(!a.value)return;const{currentTime:l,duration:m}=a.value;o.value=l/m*100};return k(()=>{console.log("MusicPlayer mounted, audio element:",a.value),a.value&&a.value.load()}),{audioPlayer:a,isPlaying:e,currentSong:v,progress:o,togglePlay:i,handleEnded:p,handleTimeUpdate:r,handleCanPlay:t,handleError:n}}});const q={class:"music-info"},z={class:"music-title"},O={class:"music-artist"},U={class:"play-button"},V=["src"],R={class:"progress-bar"};function G(a,e,o,d,c,v){return y(),g("div",{class:w(["music-player",{"is-playing":a.isPlaying}])},[s("div",{class:"music-control",onClick:e[0]||(e[0]=(...t)=>a.togglePlay&&a.togglePlay(...t))},[e[5]||(e[5]=s("div",{class:"music-icon"},"🎵",-1)),s("div",q,[s("div",z,_(a.currentSong.title),1),s("div",O,_(a.currentSong.artist),1)]),s("div",U,_(a.isPlaying?"❚❚":"▶"),1)]),s("audio",{ref:"audioPlayer",preload:"auto",src:a.currentSong.url,onEnded:e[1]||(e[1]=(...t)=>a.handleEnded&&a.handleEnded(...t)),onTimeupdate:e[2]||(e[2]=(...t)=>a.handleTimeUpdate&&a.handleTimeUpdate(...t)),onCanplay:e[3]||(e[3]=(...t)=>a.handleCanPlay&&a.handleCanPlay(...t)),onError:e[4]||(e[4]=(...t)=>a.handleError&&a.handleError(...t))},null,40,V),s("div",R,[s("div",{class:"progress",style:A({width:a.progress+"%"})},null,4)])],2)}const Y=h(N,[["render",G],["__scopeId","data-v-a7de0153"]]),J=$({name:"Live2d",setup(){const a=u(null),e=u(null);let o=null;const d=n=>{e.value&&(e.value.textContent=n,e.value.style.opacity="1",setTimeout(()=>{e.value&&(e.value.style.opacity="0")},3e3))},c=()=>{const n=["你好呀~","今天天气真不错~","要好好休息哦~","工作顺利吗？","我们一起加油吧！"],i=n[Math.floor(Math.random()*n.length)];d(i)},v=()=>{const n=document.querySelector("#live2dcanvas");n&&(n.addEventListener("click",c),d("欢迎来到我的小站~"),o&&o.disconnect())};let t=n=>new Promise((i,p)=>{const r=document.createElement("script");r.src=n,r.onload=()=>i(),r.onerror=()=>p(),document.head.appendChild(r)});return k(async()=>{try{await t("https://fastly.jsdelivr.net/npm/live2d-widget@3.1.4/lib/L2Dwidget.min.js"),o=new MutationObserver(n=>{for(const i of n)i.addedNodes.length&&v()}),o.observe(document.body,{childList:!0,subtree:!0}),window.L2Dwidget&&(window.L2Dwidget.init({model:{jsonPath:"https://fastly.jsdelivr.net/npm/live2d-widget-model-shizuku@1.0.5/assets/shizuku.model.json",scale:.7},display:{position:"left",width:240,height:360,hOffset:0,vOffset:-15},mobile:{show:!0,scale:.6},name:{canvas:"live2dcanvas",div:"live2d-widget"},react:{opacity:.8,opacityOnHover:1}}),v())}catch(n){console.error("Failed to load Live2D:",n)}}),C(()=>{o&&o.disconnect();const n=document.querySelector("#live2dcanvas");n&&n.removeEventListener("click",c),document.querySelectorAll('[id*="live2d"]').forEach(i=>i.remove()),document.querySelectorAll('script[src*="live2d"]').forEach(i=>i.remove())}),{container:a,tips:e}}});const K={class:"live2d-container",ref:"container"},Q={id:"waifu-tips",ref:"tips"};function W(a,e,o,d,c,v){return y(),g("div",K,[s("div",Q,null,512),e[0]||(e[0]=s("canvas",{id:"live2d",width:"280",height:"420"},null,-1))],512)}const X=h(J,[["render",W],["__scopeId","data-v-7315bd15"]]),Z=$({name:"Home",components:{DecorativeBackground:I,Sakura:M,MusicPlayer:Y,Live2d:X},setup(){const a=B(),e=u(""),o=u("");let d;const c=()=>{const t=new Date,n=String(t.getHours()).padStart(2,"0"),i=String(t.getMinutes()).padStart(2,"0"),p=String(t.getSeconds()).padStart(2,"0");e.value=`${n}:${i}:${p}`;const r=t.getFullYear(),l=String(t.getMonth()+1).padStart(2,"0"),m=String(t.getDate()).padStart(2,"0"),S=["日","一","二","三","四","五","六"][t.getDay()];o.value=`${r}年${l}月${m}日 星期${S}`};return k(()=>{c(),d=window.setInterval(c,1e3)}),C(()=>{clearInterval(d)}),{handleClick:()=>{a.push("/model")},currentTime:e,currentDate:o}}});const x={class:"home"},ee={class:"time-container"},ae={class:"time-display"},te={class:"time"},se={class:"date"},ne={class:"menu-container"};function oe(a,e,o,d,c,v){const t=b("DecorativeBackground"),n=b("Sakura"),i=b("MusicPlayer"),p=b("Live2d");return y(),g("div",x,[f(t),f(n),f(i),f(p),e[3]||(e[3]=E('<div class="top-decoration" data-v-71b4b7ac><div class="lantern left" data-v-71b4b7ac>灯</div><div class="lantern right" data-v-71b4b7ac>笼</div></div><div class="title-container" data-v-71b4b7ac><div class="title-content" data-v-71b4b7ac><h1 class="main-title" data-v-71b4b7ac>桜の庭</h1><p class="subtitle" data-v-71b4b7ac>樱花庭院</p><div class="season-tag" data-v-71b4b7ac>春夏秋冬</div></div></div>',2)),s("div",ee,[s("div",ae,[s("div",te,_(a.currentTime),1),s("div",se,_(a.currentDate),1)])]),s("div",ne,[s("div",{class:"menu-item",onClick:e[0]||(e[0]=(...r)=>a.handleClick&&a.handleClick(...r))},e[1]||(e[1]=[s("div",{class:"menu-icon"},"🏯",-1),s("span",{class:"menu-text"},"进入模型",-1),s("div",{class:"menu-description"},"探索三维世界",-1)])),e[2]||(e[2]=E('<div class="menu-item" data-v-71b4b7ac><div class="menu-icon" data-v-71b4b7ac>📖</div><span class="menu-text" data-v-71b4b7ac>关于我们</span><div class="menu-description" data-v-71b4b7ac>了解更多信息</div></div><div class="menu-item" data-v-71b4b7ac><div class="menu-icon" data-v-71b4b7ac>🎋</div><span class="menu-text" data-v-71b4b7ac>联系方式</span><div class="menu-description" data-v-71b4b7ac>期待您的反馈</div></div>',2))]),e[4]||(e[4]=E('<div class="footer-decoration" data-v-71b4b7ac><p class="footer-text" data-v-71b4b7ac>寄蜉蝣于天地，渺沧海之一粟</p><div class="social-links" data-v-71b4b7ac><a href="#" class="social-link" data-v-71b4b7ac>微博</a><a href="#" class="social-link" data-v-71b4b7ac>知乎</a><a href="#" class="social-link" data-v-71b4b7ac>GitHub</a></div><div class="japanese-pattern" data-v-71b4b7ac></div></div>',1))])}const re=h(Z,[["render",oe],["__scopeId","data-v-71b4b7ac"]]);export{re as default};
